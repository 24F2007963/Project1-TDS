{
  "source": "tools-in-data-science-public\\llm-speech.md",
  "type": "course",
  "text": "## OpenAI TTS-1 for Text-to-Speech Generation\n\nOpenAI's Text-to-Speech API (TTS-1) converts text into natural-sounding speech using state-of-the-art neural models. Released in March 2025, it offers multiple voices and control over speaking style and speed.\n\n[![Audio Models in the API (15 min)](https://i.ytimg.com/vi_webp/lXb0L16ISAc/sddefault.webp)](https://youtu.be/lXb0L16ISAc)\n\n### Simple speech generation\n\nTo generate speech from text, send a POST request to the speech endpoint:\n\n```bash\ncurl https://api.openai.com/v1/audio/speech \\\n  -H \"Authorization: Bearer $OPENAI_API_KEY\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"model\": \"tts-1\",\n    \"input\": \"Hello! This is a test of the OpenAI text to speech API.\",\n    \"voice\": \"alloy\"\n  }' --output speech.mp3\n```\n\n### Generation options\n\nControl the output with these parameters:\n\n- `model`: `tts-1` (standard) or `tts-1-hd` (higher quality)\n- `input`: Text to convert (max 4096 characters)\n- `voice`: `alloy`, `echo`, `fable`, `onyx`, `nova`, or `shimmer`\n- `response_format`: `mp3` (default), `opus`, `aac`, or `flac`\n- `speed`: 0.25 to 4.0 (default 1.0)\n\n```bash\ncurl https://api.openai.com/v1/audio/speech \\\n  -H \"Authorization: Bearer $OPENAI_API_KEY\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"model\": \"tts-1-hd\",\n    \"input\": \"Welcome to our podcast! Today we will be discussing artificial intelligence.\",\n    \"voice\": \"nova\",\n    \"response_format\": \"mp3\",\n    \"speed\": 1.2\n  }' --output podcast_intro.mp3\n```\n\n### Costs and optimization\n\nPricing per 1,000 characters:\n\n- `tts-1`: $0.015\n- `tts-1-hd`: $0.030\n\nTo optimize costs:\n\n- Use `tts-1` for drafts, `tts-1-hd` for final versions\n- Batch process text in chunks\n- Cache frequently used phrases\n- Choose lower quality formats for testing\n\n## Google Gemini Speech Studio for Text-to-Speech\n\nGoogle's Gemini Speech Studio offers advanced text-to-speech capabilities with support for multiple languages, voices, and speaking styles.\n\n[![Getting Started with Gemini Speech Studio (7 min)](https://i.ytimg.com/vi_webp/Rx8PmBo9vfI/sddefault.webp)](https://youtu.be/Rx8PmBo9vfI)\n\nFor this, you need a `GOOGLE_API_KEY`. You can:\n\n1. Go to the Google Cloud Console: [https://console.cloud.google.com/apis/library/texttospeech.googleapis.com](https://console.cloud.google.com/apis/library/texttospeech.googleapis.com), select or create the project you want and click **Enable**.\n2. **Create an API key**. In the Console, navigate to **APIs & Services \u2192 Credentials** and click **+ Create Credentials \u2192 API key**. Copy the generated key (it\u2019ll look like `AIza\u2026`).\n\n### Simple speech generation\n\nGenerate speech using the Gemini API:\n\n```bash\ncurl -X POST \"https://texttospeech.googleapis.com/v1/text:synthesize?key=$GOOGLE_API_KEY\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"input\": { \"text\": \"Hello, welcome to Gemini Speech Studio!\" },\n    \"voice\": { \"languageCode\": \"en-US\", \"name\": \"en-US-Neural2-A\" },\n    \"audioConfig\": { \"audioEncoding\": \"MP3\" }\n  }' | jq -r .audioContent | base64 --decode > gemini-speech.mp3\n```\n\n### Generation options\n\nCustomize synthesis with these parameters:\n\n- `voice`:\n  - `languageCode`: Language code (e.g., \"en-US\", \"es-ES\")\n  - `name`: Voice model name\n  - `ssmlGender`: \"NEUTRAL\", \"MALE\", or \"FEMALE\"\n- `audioConfig`:\n  - `audioEncoding`: \"MP3\", \"WAV\", \"OGG_OPUS\"\n  - `speakingRate`: 0.25 to 4.0\n  - `pitch`: -20.0 to 20.0\n  - `volumeGainDb`: Volume adjustment\n\n```bash\ncurl -X POST \"https://texttospeech.googleapis.com/v1/text:synthesize?key=$GOOGLE_API_KEY\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"input\": {\n      \"text\": \"This is a demonstration of advanced speech settings.\"\n    },\n    \"voice\": {\n      \"languageCode\": \"en-US\",\n      \"name\": \"en-US-Neural2-D\"\n    },\n    \"audioConfig\": {\n      \"audioEncoding\": \"MP3\",\n      \"speakingRate\": 1.2,\n      \"pitch\": 2.0,\n      \"volumeGainDb\": 1.0\n    }\n  }' | jq -r .audioContent | base64 --decode > gemini-options.mp3\n```\n\n### SSML support\n\nBoth APIs support Speech Synthesis Markup Language (SSML) for fine-grained control:\n\n```bash\ncurl -X POST \"https://texttospeech.googleapis.com/v1/text:synthesize?key=$GOOGLE_API_KEY\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"input\": {\n      \"ssml\": \"<speak>Hello <break time=\\\"1s\\\"/> This text has a pause and <emphasis level=\\\"strong\\\">emphasized words</emphasis>.</speak>\"\n    },\n    \"voice\": { \"languageCode\": \"en-US\", \"name\": \"en-US-Neural2-A\" },\n    \"audioConfig\": { \"audioEncoding\": \"MP3\" }\n  }' | jq -r .audioContent | base64 --decode > gemini-ssml.mp3\n```\n\n### Costs and optimization\n\nPricing (per character):\n\n- Standard voices: $0.000004\n- Neural voices: $0.000016\n- Neural2 voices: $0.000024\n\nTo optimize:\n\n- Use standard voices for development\n- Cache common phrases\n- Batch process where possible\n- Choose appropriate audio quality\n\n### Python implementation\n\nHere's a simple Python wrapper for both APIs:\n\n```python\nimport requests\nimport base64\nimport os\n\nopenai_key = os.getenv(\"OPENAI_API_KEY\")\ngoogle_key = os.getenv(\"GOOGLE_API_KEY\")\n\ndef generate_openai_speech(text, voice=\"alloy\", model=\"tts-1\"):\n    response = requests.post(\n        \"https://api.openai.com/v1/audio/speech\",\n        headers={\"Authorization\": f\"Bearer {openai_key}\"},\n        json={\"model\": model, \"input\": text, \"voice\": voice}\n    )\n    return response.content\n\ndef generate_gemini_speech(text, voice_name=\"en-US-Neural2-A\"):\n    response = requests.post(\n        f\"https://texttospeech.googleapis.com/v1/text:synthesize?key={google_key}\",\n        json={\n            \"input\": {\"text\": text},\n            \"voice\": {\"languageCode\": \"en-US\", \"name\": voice_name},\n            \"audioConfig\": {\"audioEncoding\": \"MP3\"}\n        }\n    )\n    return base64.b64decode(response.json()[\"audioContent\"])\n\nif __name__ == \"__main__\":\n    with open(\"openai_speech.mp3\", \"wb\") as f:\n        f.write(generate_openai_speech(\"Hello from OpenAI's text to speech API!\"))\n    with open(\"gemini_speech.mp3\", \"wb\") as f:\n        f.write(generate_gemini_speech(\"Hello from Google's Gemini Speech Studio!\"))\n```\n"
}